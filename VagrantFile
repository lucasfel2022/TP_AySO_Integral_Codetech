Vagrant.configure("2") do |config|

  # Configuración de la máquina 'Testing'
  config.vm.define "Testing" do |vmTesting|
    vmTesting.vm.box = "ubuntu/jammy64"  # Usa la caja de Ubuntu
    vmTesting.vm.network "private_network", ip: "192.168.56.10"
    vmTesting.vm.provider "virtualbox" do |vb|
      vb.name = "Testing-Grupo-Codetech"
      vb.memory = "1024"

      # Añadir discos a la máquina Testing
      vb.customize ['createhd', '--filename', 'testing_disk5.vdi', '--size', 5120] # 5GB
      vb.customize ['createhd', '--filename', 'testing_disk6.vdi', '--size', 3072] # 3GB
      vb.customize ['createhd', '--filename', 'testing_disk7.vdi', '--size', 2048] # 2GB
      vb.customize ['createhd', '--filename', 'testing_disk8.vdi', '--size', 1024] # 1GB

      # Conectar los discos a la controladora de almacenamiento
      (1..4).each do |i|
        vb.customize ['storageattach', :id, '--storagectl', 'SATA Controller', '--port', i, '--device', 0, '--type', 'hdd', '--medium', "testing_disk#{i}.vdi"]
      end
    end
    vmTesting.vm.provision "shell", inline: <<-SHELL
      # Aquí puedes incluir scripts para configurar la máquina Testing
    SHELL
  end

  # Configuración de la máquina 'Produccion'
  config.vm.define "Produccion" do |vmProduccion|
    vmProduccion.vm.box = "ubuntu/jammy64"  # Usa la caja de Ubuntu
    vmProduccion.vm.network "private_network", ip: "192.168.56.11"
    vmProduccion.vm.provider "virtualbox" do |vb|
      vb.name = "Produccion-Grupo-Codetech"
      vb.memory = "1024"

      # Añadir discos a la máquina Produccion
      vb.customize ['createhd', '--filename', 'produccion_disk5.vdi', '--size', 5120] # 5GB
      vb.customize ['createhd', '--filename', 'produccion_disk6.vdi', '--size', 3072] # 3GB
      vb.customize ['createhd', '--filename', 'produccion_disk7.vdi', '--size', 2048] # 2GB
      vb.customize ['createhd', '--filename', 'produccion_disk8.vdi', '--size', 1024] # 1GB

      # Conectar los discos a la controladora de almacenamiento
      (1..4).each do |i|
        vb.customize ['storageattach', :id, '--storagectl', 'SATA Controller', '--port', i, '--device', 0, '--type', 'hdd', '--medium', "produccion_disk#{i}.vdi"]
      end
    end
    vmProduccion.vm.provision "shell", inline: <<-SHELL
      # Aquí puedes incluir scripts para configurar la máquina Produccion
    SHELL
  end

end






