#!/bin/bash
Vagrant.configure("2") do |config|
  config.vm.define "Testing" do |ubuntu|
    ubuntu.vm.box = "ubuntu/focal64"
    ubuntu.vm.network "private_network", ip: "192.168.56.10"
    ubuntu.vm.provider "virtualbox" do |vb|
      vb.name = "Testing"
      vb.memory = "1024"

      # Añadir discos a la máquina Ubuntu
      vb.customize ['createhd', '--filename', 'testing_disk1.vdi', '--size', 5120] # 5GB
      vb.customize ['createhd', '--filename', 'testing_disk2.vdi', '--size', 3072] # 3GB
      vb.customize ['createhd', '--filename', 'testing_disk3.vdi', '--size', 2048] # 2GB
      vb.customize ['createhd', '--filename', 'testing_disk4.vdi', '--size', 1024] # 1GB

      # Conectar los discos a la controladora de almacenamiento
      (1..4).each do |i|
        vb.customize ['storageattach', :id, '--storagectl', 'SATA Controller', '--port', i, '--device', 0, '--type', 'hdd', '--medium', "testing_disk#{i}.vdi"]
      end
    end
    ubuntu.vm.provision "shell", inline: <<-SHELL
      # Aquí puedes incluir scripts para configurar Ubuntu
    SHELL
  end

  config.vm.define "Produccion" do |fedora|
    fedora.vm.box = "generic/fedora28"
    fedora.vm.network "private_network", ip: "192.168.56.11"
    fedora.vm.provider "virtualbox" do |vb|
      vb.name = "Produccion"
      vb.memory = "1024"

      # Añadir discos a la máquina Fedora
      vb.customize ['createhd', '--filename', 'produccion_disk1.vdi', '--size', 5120] # 5GB
      vb.customize ['createhd', '--filename', 'produccion_disk2.vdi', '--size', 3072] # 3GB
      vb.customize ['createhd', '--filename', 'produccion_disk3.vdi', '--size', 2048] # 2GB
      vb.customize ['createhd', '--filename', 'produccion_disk4.vdi', '--size', 1024] # 1GB

      # Conectar los discos a la controladora de almacenamiento
      (1..4).each do |i|
        vb.customize ['storageattach', :id, '--storagectl', 'SATA Controller', '--port', i, '--device', 0, '--type', 'hdd', '--medium', "produccion_disk#{i}.vdi"]
      end
    end
    fedora.vm.provision "shell", inline: <<-SHELL
      # Aquí puedes incluir scripts para configurar Fedora
    SHELL
  end
end


